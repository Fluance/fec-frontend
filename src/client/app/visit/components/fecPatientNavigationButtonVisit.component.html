<div ng-if="$ctrl.context.visitId">
    <fec-patient-navigation-button is-enabled="$ctrl.isEnabled" is-active="$ctrl.isActive" can-navigate="$ctrl.canNavigate(context)"
                                   navigate-to="$ctrl.navigateTo(context)" required-context="$ctrl.requiredContext"
                                   context="$ctrl.context" ask-always="$ctrl.askAlways"
                                   prevent-navigation="$ctrl.preventNavigation()">
        <navigation-component>
            <md-button class="fecPatientNavigationButton md-primary">
                <div class="button-visit" layout="row">
                    <div flex="grow" layout="row" layout-align="start center">
                        <fec-icon type="visit" size="sm"></fec-icon>
                    </div>
                    <div flex="initial" layout="column" layout-align="center center">
                        <div>{{'visit.TITLE' | translate}}</div>
                        <div class="context-data">{{$ctrl.context.visitId}}</div>
                    </div>
                    <div flex="grow" layout="row" layout-align="end center">
                        <fec-icon type="forward" size="ms" ng-if="$ctrl.isOnVisitDetails() && $ctrl.hasMultipleVisits"></fec-icon>
                        <fec-icon type="forward" color="fe-disabled-icon" size="ms" ng-if="$ctrl.isOnVisitDetails() && !$ctrl.hasMultipleVisits"></fec-icon>
                    </div>
                </div>
            </md-button>
        </navigation-component>
    </fec-patient-navigation-button>
</div>

<div ng-if="!$ctrl.context.visitId">
    <fec-patient-navigation-button button-label="{{'visit.TITLE_LIST' | translate}}" is-enabled="$ctrl.isEnabled" is-active="$ctrl.isActive"
        can-navigate="$ctrl.canNavigate(context)" navigate-to="$ctrl.navigateTo(context)" required-context="$ctrl.requiredContext"
        context="$ctrl.context" ask-always="$ctrl.askAlways" icon-type="visit">
    </fec-patient-navigation-button>
</div>
